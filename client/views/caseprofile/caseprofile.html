<template name="Caseprofile">
	<div id="fyaHearingInsertDiv">
		{{>caseProfileFya}}
	</div>
	<div class="page-container container" id="content">
		<div class="row" id="title_row">
			<div class="col-md-12">
				<div id="page_menu" class="pull-right">
				</div>
			</div>
		</div>
		<hr>
		{{> CaseprofileView}}
		<hr>
	</div>
</template>

<template name="caseProfileFya">
	{{lastUpdated}}
	{{#each fyaItems}}
	{{>fyaDetailsInsert}}
	{{/each}}
</template>

<template name="CaseprofileView">
	<div id="caseprofile-view" class="">
		<form id="dataview-controls" class="form-inline">
			<div id="dataview-controls-insert" class="form-group {{insertButtonClass}}">
				<button type="submit" id="dataview-insert-button" class="btn btn-success">
					<span class="fa fa-plus">
					</span>
					Add new
				</button>
			</div>
			<div id="dataview-controls-search">
				{{#if isNotEmpty}}
				<div id="dataview-controls-search-group" class="form-group">
					<label class="sr-only" for="search">
						Search
					</label>
					<input type="text" class="form-control" id="dataview-search-input" placeholder="Search" name="search" value="{{searchString}}" autofocus="autofocus">
					<button type="button" id="dataview-search-button" class="btn btn-primary">
						<span class="fa fa-search">
						</span>
					</button>
				</div>
				{{/if}}
			</div>
			<div id="dataview-controls-export" class="form-group">
				{{#if isNotEmpty}}			
		{{#if isFound}}
				<div>
				</div>
				{{else}}
				<div class="btn-group">
					<button type="button" class="btn btn-default" id="dataview-export-default">
						Export
					</button>
					<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
						<span class="caret">
						</span>
					</button>
					<ul class="dropdown-menu" role="menu">
						<li>
							<a href="#" id="dataview-export-csv">
								Export to CSV
							</a>
						</li>
						<li>
							<a href="#" id="dataview-export-tsv">
								Export to TSV
							</a>
						</li>
						<li>
							<a href="#" id="dataview-export-json">
								Export to JSON
							</a>
						</li>
					</ul>
				</div>
				{{/if}}			
	{{/if}}
			</div>
		</form>
		{{#if isNotEmpty}}	
			{{#if isNotFound}}
		<div class="alert alert-warning">
			"{{searchString}}" not found.
		</div>
		{{else}}
		<div id="dataview-data">
			{{#if viewAsTable}}  {{> CaseprofileViewTable}} {{/if}}
		</div>
		{{/if}}	
		{{else}}
		<div class="alert alert-info">
			No Case Profile :(
		</div>
		{{/if}}
	</div>
</template>

<template name="CaseprofileViewTable">
	<table id="dataview-table" class="table table-striped table-hover">
		<thead id="dataview-table-header">
			<tr id="dataview-table-header-row">
				<th class="th-sortable" data-sort="caseId">
					Title
				</th>
				<th class="th-sortable" data-sort="caseNumber">
					Case Number
				</th>
				<th class="th-sortable" data-sort="clientName">
					Name 
				</th>
				<th class="th-sortable" data-sort="nextHearingDate">
					Next Hearing Date
				</th>
				<th class="th-sortable" data-sort="filingDate">
					Filing Date
				</th>
				<th class="th-sortable" data-sort="representing">
					Representing
				</th>
				<th class="th-sortable" data-sort="caseType">
					Type/Nature
				</th>
				<th class="th-sortable" data-sort="court">
					Court
				</th>
				<!--<th class="th-sortable" data-sort="notes">-->
				<!--	Other Case Notes / Details-->
				<!--</th>-->
				<!--<th class="th-sortable" data-sort="opName">-->
				<!--	Opposite party Name and Contact-->
				<!--</th>-->
				<!--<th class="th-sortable" data-sort="opAdvocate">-->
				<!--	Opposite party Advocate Name and Contact-->
				<!--</th>-->
				<!--<th class="th-sortable" data-sort="opNotes">-->
				<!--	Other details about Opposite party-->
				<!--</th>-->
				<!--<th>-->
				<!--	&nbsp;-->
				<!--</th>-->
				<!--<th>-->
				<!--	&nbsp;-->
				<!--</th>-->
				<!--<th>-->
				<!--	&nbsp;-->
				<!--</th>-->
				<!--<th>-->
				<!--	&nbsp;-->
				<!--</th>-->
			</tr>
		</thead>
	</table>
	<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
		
		{{#each tableItems}}
		<div class="row">
			{{#each row}} 
				{{> panelView}} 
			{{/each}}
		</div>
		{{/each}}
		
	</div>
</template>

<template name="CaseprofileViewTableItems">
</template>

<template name="panelView">
<div class="col-xs-12 col-sm-12 col-md-4">
  <div class="panel panel-warning">
    
    <div class="panel-heading" role="tab" id={{_id}}>
      <!--<h4 class="panel-title">-->
      <!--  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne{{_id}}" aria-expanded="true" aria-controls="collapseOne{{_id}}">-->
      <!--    <i class="fa fa-balance-scale"></i> {{caseId}} <small>{{caseNumber}}</small> <i class="fa fa-sort"></i>-->
      <!--  </a>-->
      <!--</h4>-->
    </div>
    
    
      <div class="panel-body">
      	<h2 class="panel-body-title">
			{{caseId}}
		</h2>
		<hr>
		<p class="text-center text-muted">
		{{#if caseNumber}}
			{{caseNumber}}
		{{else}}
			-
		{{/if}}
		</p>
		<!--<a href="#" class="btn btn-default btn-lg btn-block">Block level button</a>-->

		<!--{{#if nextHearingDate}}-->
  <!--       Next Hearing: <i class="fa fa-calendar">&nbsp;</i> {{formatDate nextHearingDate 'll'}}-->
  <!--       <i class="fa fa-rocket">&nbsp;</i> {{formatCalendarDate nextHearingDate}}-->
  <!--       {{/if}}-->

	      <ul class="list-group">
	  		<li class="list-group-item">
	    		<span class="badge">{{representing}}</span>
	    		<i class="fa fa-user">&nbsp;</i> <span>{{getClientName clientName}}</span><br/>
	    		<i class="fa fa-phone">&nbsp;</i> <span><a href="tel:{{phone}}">{{phone}}</a></span><br/>
	    		<i class="fa fa-envelope-o">&nbsp;</i><span><a href="mailto:{{email}}?subject= Regarding%20Case:%20{{caseId}}&body=Hi%20{{getClientName clientName}},%0A">{{email}}</a></span>
	  		</li>
	  		<li class="list-group-item">
	    		<span class="badge">{{caseType}}</span>
	    		<i class="fa fa-calendar">&nbsp;</i> <span>File: {{formatDate filingDate 'DD-MM-YYYY'}} </span><br/>
	    		<i class="fa fa-university">&nbsp;</i><span><a href="http://maps.google.com/?q={{court}}">{{court}}</a></span><br/>
	  		</li>
		  </ul>
		  
			<a class="show-log" href="#collapseOne{{_id}}">
	          <abbr title="Log"><p class="text-center text-muted"><i class="fa fa-comment-o"></i></p></abbr>
	        </a>
		  <blockquote>
		  	<div class="notes">
		  	{{#if notes}}	
		  		{{notes}}
		  	{{else}}
		  		-
		  	{{/if}}
		  	</div>
		  	<small>-Last updated on {{formatCalendarDate modifiedAt}}</small>
		  </blockquote>
    </div>
    <div class="panel-footer">
    	&nbsp;
    	<div class="pull-left">
	    	{{#if nextHearingDate}}
	    		<p class="text-muted">Next Hearing {{formatDate nextHearingDate 'll'}}</p>
	    	{{else}}
	    		-
	    	{{/if}}
    	</div>
	   <div class="pull-right">
	   		<abbr Title="Click to Open Case Profile">Open</abbr>
	    	<span id="edit-button" class="fa fa-pencil {{editButtonClass}}" title="Edit"></span>
	    	<span id="delete-button" class="fa fa-trash-o {{deleteButtonClass}}" title="Delete"></span>
	    	<span id="sendMail-button" class="fa fa-envelope-o {{sendMailButtonClass}}" title="SendMail" hidden></span>
	    	<span id="print-button" class="fa fa-file-pdf-o {{printButtonClass}}" title="Print"></span>
		</div>
    </div>
    
    <!--<div class="panel-footer">-->
    <!-- 	<a href="#"><i class="fa fa-hand-o-right">&nbsp; Open</i></a>-->
    <!--	<div class="pull-right muted">-->
    <!--  		<span id="edit-button" class="fa fa-pencil {{editButtonClass}}" title="Edit"></span>-->
    <!--  		<span id="delete-button" class="fa fa-trash-o {{deleteButtonClass}}" title="Delete"></span>-->
    <!--  		<span id="sendMail-button" class="fa fa-envelope-o {{sendMailButtonClass}}" title="SendMail" hidden></span>-->
    <!--  		<span id="print-button" class="fa fa-file-pdf-o {{printButtonClass}}" title="Print"></span>-->
    <!--  	</div>-->
    <!--</div>-->
    
  </div>
  </div>
</template>
