<template name="Caseprofile">
	<div id="fyaHearingInsertDiv">
		{{>caseProfileFya}}
	</div>
	<div class="page-container container" id="content">
		<div class="row" id="title_row">
			<div class="col-md-12">
				<div id="page_menu" class="pull-right">
				</div>
			</div>
		</div>
		{{> presentation}}
		<hr>
	</div>
</template>

<template name="caseProfileFya">
	{{#if fyaCount}}
	<div id="intro" class="collapse">
		{{#each fyaItems}} {{>fyaDetailsInsert}} {{/each}} {{lastUpdated}}
	</div>
	{{/if}}
</template>

<template name="CaseprofileView">
	<div id="caseprofile-view" class="">
		{{#if isNotEmpty}} 
			{{#if isNotFound}}
				<div class="alert alert-warning">
					"{{searchString}}" not found.
				</div>
			{{else}} 
				{{#if searchString}}
					<span class="help-block">
						<h4 class="text-primary">Result for "{{searchString}}"</h4>
					</span> 
				{{else}} 
					{{#if archived}} 
						<h4 class="text-primary">Archived Case Profile - List</h4> 
					{{else}} 
						{{#if limitaion}} 
							<h4 class="text-primary">Limitation Case Profile - List</h4> 
						{{else}} 
							<h4 class="text-primary">Case Profile - List</h4> 
						{{/if}} 
					{{/if}} 
				{{/if}} 
			{{/if}}
			
			<div id="dataview-data">
				{{#if viewAsTable}}
				<div class="dual-list">
					<div class="row">
						<div class="col-md-10">
							<div class="input-group">
								<input type="text" name="SearchDualList" id="SearchDualList" class="form-control" placeholder="search" />
								<span class="input-group-addon glyphicon glyphicon-search"></span>
							</div>
						</div>
						<div class="col-md-2">
							{{#if archived}} 
								<!--Nothing to Show as of Now-->
							{{else}} 
								{{#if limitaion}} 
									<!--Nothing to Show as of Now-->
								{{else}}
									<button type="button" class="btn btn-success btn-sm" id="dataview-insert-button">Add New</button>
								{{/if}}
							{{/if}}
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							{{> CaseprofileViewTable}}
						</div>
					</div>
				</div>
				{{/if}}
			</div>
			
		{{else}} 
			{{#if limitaion}}
				<div class="jumbotron">
					<h1>No Limitaion Pending!</h1>
					<p>Case profiles with limitation date will be shown here, till it gets filing date.</p>
					<p><a class="btn btn-primary btn-lg" href="{{pathFor 'caseprofile'}}" role="button">Return Home</a></p>
				</div>
			{{else}} 
				{{#if archived}}
					<h1>No Archives!</h1>
					<p>Archived Case Profiles will be shown Here!</p>
					<p><a class="btn btn-primary btn-lg" href="{{pathFor 'caseprofile'}}" role="button">Return Home</a></p>
				{{else}}
					<h1>Welcome {{userFullName}}!</h1>
					<p>Click continue to add your first case profile..,</p>
					<p><a class="btn btn-primary btn-lg" href="{{pathFor 'caseprofile.insert'}}" role="button">Continue</a></p>
				{{/if}} 
			{{/if}} 
		{{/if}}
	</div>
</template>

<template name="CaseprofileViewTable">
	<table id="dataview-table" class="table table-hover panel-container">
		<thead id="dataview-table-header">
			<tr id="dataview-table-header-row">
				<th class="th-sortable col-md-6" data-sort="caseId">
					Title
				</th>
				{{#if ../limitaion}}
				<th class="th-sortable col-md-2">
					DOJ [Limitaion]
				</th>
				<th class="th-sortable col-md-2" data-sort="limitationDate">
					Limitation Date
				</th>
				<th class="th-sortable col-md-2">
					Days Left
				</th>
				{{else}}
				<th class="th-sortable col-md-2" data-sort="caseNumber">
					Number
				</th>
				<th class="th-sortable col-md-2" data-sort="nextHearingDate">
					Next Hearing On
				</th>
				<th class="th-sortable col-md-2" data-sort="modifiedAt">
					Last Updated
				</th>
				{{/if}}
				<th>
					&nbsp;
				</th>
				<th>
					&nbsp;
				</th>
			</tr>
		</thead>
		<tbody id="dataview-table-items" class="home-tab">
			{{#each tableItems}} {{> CaseprofileViewTableItems}} {{/each}}
		</tbody>
	</table>
</template>

<template name="CaseprofileViewTableItems">
	<tr id="dataview-table-items-row" class="table-row">
		<td>
			<h6 class="text-warning">{{caseId}}<small>{{caseNumber}}</small></h6>
		</td>
		{{#if limitationDate}}
		<td>
			{{formatDate judgementDate "DD/MMM/YYYY"}} &nbsp; [{{limitation}}]
		</td>
		<td>
			{{formatDate limitationDate "DD/MMM/YYYY"}}
		</td>
		<td>
			{{DaysFromNow limitationDate}}
		</td>
		{{else}}

		<td>

		</td>
		<td>
			<abbr title="{{nextHearingDate}}">{{formatCalendarDate nextHearingDate}}</abbr>
		</td>
		<td>
			<abbr title="{{modifiedAt}}">{{formatCalendarDate modifiedAt}}</abbr>
		</td>
		{{/if}}
		<td class="td-icon">
			<span id="edit-button" class="fa fa-pencil {{editButtonClass}}" title="Edit">
			</span>
		</td>
		<td class="td-icon">
			<span id="delete-button" class="fa fa-trash-o {{deleteButtonClass}}" title="Delete">
			</span>
		</td>
	</tr>
</template>